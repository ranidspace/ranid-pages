---
const pageTitle = "Ranid Projects";
const desc = "My beloved projects";
import Default from "@layouts/Default.astro";
import { getCollection } from "astro:content";
const projects = await getCollection("projects");
---

<style is:global>
  .projects {
    display: flex;
    flex-direction: column;
  }

  .project {
    display: flex;
    flex-direction: row;
    align-items: center;
  }
  .projectText {
    padding: 2em;
  }

  img {
    width: 20rem;
  }

  @media screen and (max-device-width: 1000px) {
    .project {
      flex-direction: column !important;
    }
    .projectText {
      padding: 0;
    }

    img {
      width: 10rem;
    }
  }
</style>

<Default pageTitle={pageTitle} description={desc}>
  <ul class="contentlist">
    {
      projects.map((project, index) => {
        const reverse = index % 2 !== 1 ? "flex-direction: row-reverse;" : "";
        const path = "/images/projects/" + project.id + ".png";
        return (
          <li class="project" style={reverse}>
            <img src={path} alt={project.data.alt} />
            <div class="projectText">
              <a href={project.data.link}>
                <h2>{project.data.title}</h2>
              </a>
              <p>{project.data.description}</p>
            </div>
          </li>
        );
      })
    }
  </ul>
</Default>
