{{ $data := slice }}
{{- $file := (.Get "src") }}
{{- $alignright := split (.Get "alignright") "," }}
{{- with or ($.Page.Resources.GetMatch $file) (resources.Get $file) }}
  {{- $opts := dict "targetType" "slice" }}
  {{- $data = transform.Unmarshal $opts . }}
{{- end }}

{{- with $data -}}
<table>
  <thead>
    <tr>
      {{- range index . 0 }}
        {{- if in $alignright . -}}
          <th style="text-align: right">{{ . }}</th>
        {{- else -}}
          <th>{{ . }}</th>
        {{- end }}
      {{- end -}}
    </tr>
  </thead>
  <tbody>
    {{- range. | after 1 }}
    <tr>
      {{- range $index, $element := . }}
        {{- if in $alignright (index (index $data 0) $index) -}}
          <td style="text-align: right">{{ $element }}</td>
        {{- else -}}
          <td>{{ . }}</td>
        {{- end -}}
      {{- end -}}
    </tr>
    {{- end -}}
  </tbody>
</table>
{{- end }}
